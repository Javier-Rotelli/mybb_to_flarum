{"version":3,"sources":["webpack://@michaelbelgium/mybb-to-flarum/webpack/bootstrap","webpack://@michaelbelgium/mybb-to-flarum/./admin.js","webpack://@michaelbelgium/mybb-to-flarum/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@michaelbelgium/mybb-to-flarum/./src/admin/components/MybbToFlarumPage.js","webpack://@michaelbelgium/mybb-to-flarum/./src/admin/index.js","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['app']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/AdminNav']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/Button']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/FieldSet']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/Page']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['components/Switch']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['extend']\"","webpack://@michaelbelgium/mybb-to-flarum/external \"flarum.core.compat['utils/saveSettings']\""],"names":["MybbToFlarumPage","init","migrateAvatars","m","prop","migrateSoftThreads","migrateSoftPosts","migrateThreadsPosts","migrateUsers","migrateCategories","migrateUserGroups","mybb","host","app","data","settings","mybb_host","user","mybb_user","db","mybb_db","prefix","mybb_prefix","password","mybb_password","mybbPath","mybb_path","view","translator","trans","onsubmit","bind","FieldSet","component","label","children","Switch","state","onchange","value","$","show","hide","Button","className","icon","type","loading","e","preventDefault","fail","alert","Object","keys","forEach","key","saveSettings","then","request","method","url","forum","attribute","avatars","softposts","softthreads","console","log","Page","initializers","add","routes","mybbtoflarum","path","extend","AdminNav","prototype","items","AdminLinkButton","href","route","description"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Page from 'flarum/components/Page';\r\nimport Switch from 'flarum/components/Switch';\r\nimport Button from 'flarum/components/Button';\r\nimport FieldSet from 'flarum/components/FieldSet';\r\nimport saveSettings from 'flarum/utils/saveSettings';\r\n\r\nexport default class MybbToFlarumPage extends Page {\r\n\tinit() {\r\n\t\tsuper.init();\r\n\t\t\r\n\t\tthis.migrateAvatars = m.prop(false);\r\n\t\tthis.migrateSoftThreads = m.prop(false);\r\n\t\tthis.migrateSoftPosts = m.prop(false);\r\n\r\n\t\tthis.migrateThreadsPosts = m.prop(true);\r\n\t\tthis.migrateUsers = m.prop(true);\r\n\t\tthis.migrateCategories = m.prop(true);\r\n\t\tthis.migrateUserGroups = m.prop(true);\r\n\r\n\t\tthis.mybb = {\r\n\t\t\thost: m.prop(typeof app.data.settings.mybb_host === 'undefined' ? '127.0.0.1' : app.data.settings.mybb_host),\r\n\t\t\tuser: m.prop(typeof app.data.settings.mybb_user === 'undefined' ? '' : app.data.settings.mybb_user),\r\n\t\t\tdb: m.prop(typeof app.data.settings.mybb_db === 'undefined' ? '' : app.data.settings.mybb_db),\r\n\t\t\tprefix: m.prop(typeof app.data.settings.mybb_prefix === 'undefined' ? 'mybb_' : app.data.settings.mybb_prefix),\r\n\t\t\tpassword: m.prop(typeof app.data.settings.mybb_password === 'undefined' ? '' : app.data.settings.mybb_password),\r\n\t\t\tmybbPath: m.prop(typeof app.data.settings.mybb_path === 'undefined' ? '' : app.data.settings.mybb_path)\r\n\t\t};\r\n\t}\r\n\r\n  \tview() {\r\n\t\treturn (\r\n\t\t\t<div className=\"mybbtoflarumPage\">\r\n\t\t\t\t<div className=\"mybbtoflarumPage-header\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t{app.translator.trans('mybbtoflarum.admin.page.text')}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mybbtoflarumPage-content\">\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<form onsubmit={this.onsubmit.bind(this)}>\r\n\t\t\t\t\t\t\t{FieldSet.component({\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans('mybbtoflarum.admin.page.form.general.title'),\r\n\t\t\t\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateAvatars(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: (value) => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.migrateAvatars(value);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif(value)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(\"input[name=mybbPath]\").show();\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(\"#mybbPath_help\").show();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(\"#mybbPath_help\").hide();\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(\"input[name=mybbPath]\").hide();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.general.migrateAvatars'),\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateSoftThreads(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateSoftThreads,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.general.migrateSoftThreads'),\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateSoftPosts(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateSoftPosts,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.general.migrateSoftPosts'),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t{FieldSet.component({\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans('mybbtoflarum.admin.page.form.mybb.title'),\r\n\t\t\t\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.host')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"text\" bidi={this.mybb.host} value={this.mybb.host()} />,\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.user')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"text\" bidi={this.mybb.user} />,\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.password')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"password\" bidi={this.mybb.password} />,\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.db')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"text\" bidi={this.mybb.db} />,\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.prefix')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"text\" bidi={this.mybb.prefix} value={this.mybb.prefix()} />,\r\n\t\t\t\t\t\t\t\t\t<div className=\"helpText\" id=\"mybbPath_help\" style=\"display: none;\">{app.translator.trans('mybbtoflarum.admin.page.form.mybb.mybbPath')}</div>,\r\n\t\t\t\t\t\t\t\t\t<input className=\"FormControl\" type=\"text\" bidi={this.mybb.mybbPath} name=\"mybbPath\" style=\"display: none;\" placeholder=\"/path/to/mybb\" />\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t{FieldSet.component({\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans('mybbtoflarum.admin.page.form.options.title'),\r\n\t\t\t\t\t\t\t\tchildren: [\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateUsers(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateUsers,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.options.migrateUsers'),\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateThreadsPosts(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateThreadsPosts,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.options.migrateThreadsPosts'),\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateUserGroups(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateUserGroups,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.options.migrateUserGroups'),\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tSwitch.component({\r\n\t\t\t\t\t\t\t\t\t\tstate: this.migrateCategories(),\r\n\t\t\t\t\t\t\t\t\t\tonchange: this.migrateCategories,\r\n\t\t\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.form.options.migrateCategories'),\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t{Button.component({\r\n\t\t\t\t\t\t\t\tclassName: 'Button Button--danger',\r\n\t\t\t\t\t\t\t\ticon: 'fas fa-exchange-alt',\r\n\t\t\t\t\t\t\t\ttype: 'submit',\r\n\t\t\t\t\t\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.page.btnConvert'),\r\n\t\t\t\t\t\t\t\tloading: this.loading\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\tonsubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.loading = true;\r\n\r\n\t\tvar fail = false;\r\n\r\n\t\tif(this.migrateAvatars() && this.mybb.mybbPath() === '')\r\n\t\t{\r\n\t\t\talert('When migrating avatars, the mybb path can not be empty. You need an exisitng mybb installation.');\r\n\t\t\tfail = true;\r\n\t\t}\r\n\r\n\t\tObject.keys(this.mybb).forEach(key => {\r\n\t\t\tif(key !== 'mybbPath' && this.mybb[key]() === '')\r\n\t\t\t{\r\n\t\t\t\talert('Mybb: ' + key + ' can not be empty');\r\n\t\t\t\tfail = true;\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif(fail)\r\n\t\t{\r\n\t\t\tthis.loading = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsaveSettings({\r\n\t\t\t'mybb_host': this.mybb.host(),\r\n\t\t\t'mybb_user': this.mybb.user(),\r\n\t\t\t'mybb_password': this.mybb.password(),\r\n\t\t\t'mybb_db': this.mybb.db(),\r\n\t\t\t'mybb_prefix': this.mybb.prefix(),\r\n\t\t\t'mybb_path': this.mybb.mybbPath()\r\n\t\t}).then(() => {\r\n\t\t\tapp.request({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: app.forum.attribute('apiUrl') + '/mybb-to-flarum',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tavatars: this.migrateAvatars(),\r\n\t\t\t\t\tsoftposts: this.migrateSoftPosts(),\r\n\t\t\t\t\tsoftthreads: this.migrateSoftThreads()\r\n\t\t\t\t}\r\n\t\t\t}).then(data => console.log(data));\r\n\t\t});\r\n\r\n\t\tthis.loading = false;\r\n\t}\r\n}","import { extend } from 'flarum/extend';\r\nimport app from 'flarum/app';\r\nimport AdminNav from 'flarum/components/AdminNav';\r\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\r\nimport MybbToFlarumPage from './components/MybbToFlarumPage';\r\n\r\napp.initializers.add('michaelbelgium-mybb-to-flarum', () => {\r\n\tapp.routes.mybbtoflarum = {path: '/mybb-to-flarum', component: MybbToFlarumPage.component()};\r\n\r\n\textend(AdminNav.prototype, 'items', items => {\r\n\t\titems.add('pages', AdminLinkButton.component({\r\n\t\t\thref: app.route('mybbtoflarum'),\r\n\t\t\ticon: 'fas fa-exchange-alt',\r\n\t\t\tchildren: app.translator.trans('mybbtoflarum.admin.nav.title'),\r\n\t\t\tdescription: app.translator.trans('mybbtoflarum.admin.nav.description')\r\n\t\t}));\r\n\t});\r\n});","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/FieldSet'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/saveSettings'];"],"sourceRoot":""}